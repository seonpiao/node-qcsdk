{
  "title":"Qingcloud.Instance",
  "desc":[
    "本类不能直接实例化，需要通过describe、create等<a href='#static'>Static Methods</a>得到实例。",
    "一个Instance类的实例，可以包含一个或多个主机。如果包含多个主机时，当调用实例方法时，会对这多台主机同时进行同样的操作。"
  ],
  "constructor":[
    {
      "proto":"function(params){}",
      "demo":[
        "var instance = new Instance({",
        "id:['i-fep9irsd']",
        "});"
      ],
      "desc":["可根据主机ID, 状态, 主机名称, 映像ID 作过滤条件, 来获取一组主机。 如果不指定任何过滤条件, 默认返回你所拥有的所有主机。"],
      "params":[{
        "name":"params",
        "type":"Object",
        "required":true,
        "desc":"主机过滤参数",
        "members":[
          {
              "name":"id",
              "type":"String/Array",
              "required":false,
              "desc":"一个或多个主机ID"
            },
            {
              "name":"imageId",
              "type":"String/Array",
              "required":false,
              "desc":"一个或多个映像ID"
            },
            {
              "name":"type",
              "type":"String/Array",
              "required":false,
              "desc":"一种或多种主机配置类型"
            },
            {
              "name":"status",
              "type":"String/Array",
              "required":false,
              "desc":"一种或多种主机状态:pending, running, stopped, suspended, terminated, ceased"
            },
            {
              "name":"searchWord",
              "type":"String",
              "required":false,
              "desc":"搜索关键词，支持主机ID, 主机名称"
            },
            {
              "name":"offset",
              "type":"Integer",
              "required":false,
              "desc":"数据偏移量, 默认为0"
            },
            {
              "name":"limit",
              "type":"Integer",
              "required":false,
              "desc":"返回数据长度, 默认为20"
            },
            {
              "name":"zone",
              "type":"String",
              "required":true,
              "desc":"区域ID"
            }
        ]
      }]
    }
  ],
  "static":[
    {
      "name":"create",
      "proto":"function(params,callback){}",
      "demo":[
        "Qingcloud.Instance.create({",
        "type:'small_a',",
        "imageId:'centos63x64',",
        "count:2,",
        "instance_name:'instance_a'",
        "},function(err,instance){})"],
      "desc":["创建一台或多台主机。并返回Instance类的实例，供后续使用"],
      "params":[
        {
          "name":"params",
          "type":"Object",
          "required":false,
          "desc":"要创建的主机参数",
          "members":[
            {
              "name":"imageId",
              "type":"String",
              "required":true,
              "desc":"映像ID"
            },
            {
              "name":"type",
              "type":"String",
              "required":false,
              "desc":"主机类型"
            },
            {
              "name":"count",
              "type":"Integer",
              "required":false,
              "desc":"创建主机的数量，默认是1"
            },
            {
              "name":"instanceName",
              "type":"String",
              "required":false,
              "desc":"主机名称"
            },
            {
              "name":"loginMode",
              "type":"String",
              "required":false,
              "desc":[
                "SSH登录方式，有效值为 keypair 和 passwd，只对 linux 主机有效。",
                "当登录方式为 keypair 时，需要指定 loginKeypair 参数；",
                "当登录方式为 passwd 时，需要指定 loginPasswd 参数；",
                "当不提供登录方式参数时，主机保持为模板默认的登录方式。"
              ]
            },
            {
              "name":"loginKeypair",
              "type":"String",
              "required":false,
              "desc":"SSH登录密钥ID。"
            },
            {
              "name":"loginPasswd",
              "type":"String",
              "required":false,
              "desc":"SSH登录密码。"
            },
            {
              "name":"vxnets",
              "type":"String/Array",
              "required":false,
              "desc":"主机要加入的私有网络ID，如果不传此参数，则表示不加入到任何网络。"
            },
            {
              "name":"securityGroup",
              "type":"String",
              "required":false,
              "desc":"主机加载的防火墙ID，只有在 vxnets.n 包含基础网络（即：vxnet-0）时才需要提供。 若未提供，则默认加载缺省防火墙"
            },
            {
              "name":"zone",
              "type":"String",
              "required":true,
              "desc":"区域ID"
            }
          ]
        },
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err,instance){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            },
            {
              "name":"instance",
              "type":"Object",
              "desc":"Instance类的实例"
            }
          ]
        }
      ]
    }
  ],
  "public":[
    {
      "name":"describe",
      "proto":"function(callback){}",
      "demo":[
        "Qingcloud.Instance.describe(function(err,data){console.log(data)})"],
      "desc":["获取主机的详细数据。"],
      "params":[
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err,instance){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            },
            {
              "name":"data",
              "type":"Object",
              "desc":"主机的详细数据"
            }
          ]
        }
      ]
    },
    {
      "name":"terminate",
      "proto":"function(callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({type:'small_a',status:'running'});",
        "instance.terminate(function(err){})"
      ],
      "desc":["销毁一台或多台主机。"],
      "params":[
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"stop",
      "proto":"function(callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({type:'small_a',status:'running'});",
        "instance.stop(function(err){})"
      ],
      "desc":["关闭一台或多台运行状态的主机。"],
      "params":[
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"start",
      "proto":"function(callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({type:'small_a',status:'running'});",
        "instance.start(function(err){})"
      ],
      "desc":["启动一台或多台关闭状态的主机。"],
      "params":[
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"restart",
      "proto":"function(callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({type:'small_a',status:'running'});",
        "instance.restart(function(err){})"
      ],
      "desc":["重启一台或多台运行状态的主机。"],
      "params":[
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"reset",
      "proto":"function(callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({type:'small_a',status:'running'});",
        "instance.reset(function(err){})"
      ],
      "desc":[
        "将一台或多台主机的系统盘重置到初始状态。 被重置的主机必须处于运行（ running ）或关闭（ stopped ）状态。",
        "重置只涉及系统盘数据，不包含主机所加载的硬盘。"
      ],
      "params":[
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"resize",
      "proto":"function(params,callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({type:'small_a',status:'running'});",
        "instance.resize({type:'small_b'},function(err){})"
      ],
      "desc":[
        "修改主机配置，包括 CPU 和内存。主机状态必须是关闭的 stopped ，不然会返回错误。",
        "如果使用预设的 instance_type ，参数中就不需再指定 CPU 或内存。",
        "如果参数中没有指定 instance_type ，则必须指定 cpu 和 memory。",
        "如果参数中既指定 instance_type ，又指定了 cpu 和 memory ， 则以指定的 cpu 和 memory 为准。"
      ],
      "params":[
        {
          "name":"params",
          "type":"Object",
          "required":false,
          "desc":"主机过滤参数",
          "members":[
            {
              "name":"type",
              "type":"String",
              "required":false,
              "desc":"主机类型"
            },
            {
              "name":"cpu",
              "type":"Integer",
              "required":false,
              "desc":"CPU core，有效值为: 1, 2, 4, 8, 16"
            },
            {
              "name":"memory",
              "type":"String",
              "required":false,
              "desc":"内存，有效值为: 512, 1024, 2048, 4096, 8192, 16384"
            }
          ]
        },
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"modifyAttributes",
      "proto":"function(params,callback){}",
      "demo":[
        "Qingcloud.config.zone = 'pek1';",
        "var instance = new Instance({id:'i-fep9irsd'});",
        "instance.modifyAttributes({instanceName:'new name'},function(err){})"
      ],
      "desc":[
        "修改一台主机的名称和描述。",
        "修改时不受主机状态限制。一次只能修改一台主机。"
      ],
      "params":[
        {
          "name":"params",
          "type":"Object",
          "required":false,
          "desc":"修改参数",
          "members":[
            {
              "name":"instanceName",
              "type":"String",
              "required":false,
              "desc":"主机名称"
            },
            {
              "name":"description",
              "type":"String",
              "required":false,
              "desc":"主机描述"
            }
          ]
        },
        {
          "name":"callback",
          "desc":"回调函数",
          "type":"Function",
          "required":false,
          "proto":"function(err){}",
          "params":[
            {
              "name":"err",
              "type":"Object",
              "desc":"错误信息"
            }
          ]
        }
      ]
    },
    {
      "name":"getIds",
      "proto":"function(callback){}",
      "demo":[
        "var instance = new Instance({types:['small_a','small_b']});",
        "instance.getIds(function(ids){console.log(ids)});"],
      "desc":[
        "遍历实例中的所有主机，可以得到每一台主机的Instance类的实例"
      ],
      "params":[
        {
          "name":"callback",
          "type":"Function",
          "required":true,
          "desc":"回调函数",
          "proto":"function(ids){}",
          "params":[
            {
              "name":"ids",
              "type":"Array",
              "desc":"主机id数组"
            }
          ]
        }
      ]
    }
  ]
}